<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-7 col-lg-5">
        <div class="wrap">
          <div class="img" style="background-image: url(./assets/images/bg-1.jpg);">
            <%= image_tag "bg-1.jpg", class: "img w-100" %>
          </div>
          <div class="login-wrap p-4 p-md-5">
            <div class="d-flex">
              <div class="w-100">
                <h3 class="mb-4">Sign Up</h3>
              </div>
              <div class="w-100">
                <p class="social-media d-flex justify-content-end">
                  <a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa"><%= icon('fa-brands', 'facebook-f')%></span></a>
                  <a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa"><%= icon('fa-brands', 'twitter')%></span></a>
                </p>
              </div>
            </div>
            <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
              <%= render "devise/shared/error_messages", resource: resource %>

              <div class="form-group mt-3 feild">
                <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control" %>
                <label class="form-control-placeholder" for="username"><%= f.label :email %></label>
              </div>
              <div class="form-group mt-5 field">
                <%= f.password_field :password, autocomplete: "new-password", class: "form-control", id: "password-field" %>
                <label class="form-control-placeholder" for="password"><%= f.label :password %><% if @minimum_password_length %>
                <em class="text-secondary small">(<%= @minimum_password_length %> characters minimum)</em>
                <% end %></label>
                <span toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"></span>
              </div>
              <div class="form-group mt-5 field">
                <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control", id: "password-field" %>
                <label class="form-control-placeholder" for="password"><%= f.label :password_confirmation %></label>
                <span toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"></span>
              </div>
              <div class="form-group actions">
                <%= f.submit "Sign Up", class: "form-control btn btn-primary rounded submit px-3" %>
              </div>
              <div class="form-group d-md-flex">
                <div class="w-50 text-left field">
                <% if devise_mapping.rememberable? %>
                  <label class="checkbox-primary mb-0" >
                    <%= f.check_box :remember_me %>
                    <%= f.label :remember_me %>
                  </label>
                <% end %>
                </div>
                <div class="w-50 text-md-right">
                  <%= link_to "Forgot your password?", new_password_path(resource_name) %>
                </div>
              </div>
            <% end %>
            <p class="text-center">Do you already have an account? <%= link_to "Log in", new_session_path(resource_name) %></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const inputPassword = document.getElementById("password-field")
  const btnEye = document.querySelector('.toggle-password')

  btnEye.addEventListener('click', function(e) {
    $(this).toggleClass("fa-eye fa-eye-slash");

    const currentType = inputPassword.getAttribute('type')
    inputPassword.setAttribute(
      'type',
      currentType === 'password' ? 'text' : 'password'
    )
  })
</script>
